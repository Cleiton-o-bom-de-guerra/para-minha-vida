<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Para a Minha Vida</title>
  <link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background-color: #ffe4f0;
      color: #333;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
      transition: background-color 0.6s ease;
    }
    h1 {
      font-family: 'Satisfy', cursive;
      font-size: 3em;
      color: #c71585;
      margin-bottom: 10px;
    }
    .slideshow {
      max-width: 90%;
      margin: 20px auto;
    }
    .slide-img {
      display: none;
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .declaracao {
      font-size: 1.2em;
      line-height: 1.6;
      max-width: 800px;
      margin: 30px auto;
      background: rgba(255, 255, 255, 0.6);
      padding: 20px;
      border-radius: 12px;
    }
    .declaracao h2 {
      font-family: 'Satisfy', cursive;
      color: #c71585;
      font-size: 2em;
      margin-bottom: 10px;
      transition: color 0.4s ease;
    }
    .controls {
      margin-top: 20px;
    }
    #nextChapter {
      margin-top: 15px;
      padding: 10px 20px;
      border-radius: 999px;
      border: none;
      background: #c71585;
      color: #fff;
      font-weight: bold;
      font-size: 1rem;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.2s ease;
    }
    #nextChapter:active {
      transform: translateY(1px);
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      background: #a4116d;
    }
    #capInfo {
      margin-top: 8px;
      font-size: 0.9rem;
      opacity: 0.8;
    }
  </style>
</head>
<body>

  <h1>Para a Minha Vida</h1>

  <div class="slideshow" id="slideshow"></div>

  <div class="declaracao">
    <h2 id="tituloDeclaracao">Minha declara√ß√£o pra voc√™ üíñ</h2>
    <p id="textoDeclaracao"></p>
  </div>

  <div class="controls">
    <audio id="player" controls></audio>
    <div>
      <button id="nextChapter">Pr√≥ximo cap√≠tulo ‚ñ∂Ô∏è</button>
      <div id="capInfo"></div>
    </div>
  </div>

  <script>
    const chapters = [
      {
        id: 1,
        photos: [1,2,3,4,5,6,7,8,9,10,11,12],
        music: "musica1.mp3",
        theme: "#ffe4f0",
        title: "Minha declara√ß√£o pra voc√™ üíñ",
        text: `
          Nestes dois anos ao seu lado, descobri que a felicidade tem nome, sorriso e olhar.<br><br>
          Voc√™, amor, √© a mulher que cresce e floresce a cada dia, e eu me orgulho em sil√™ncio e em voz alta por tudo o que tem se tornado.<br><br>
          Cada detalhe em voc√™ √© um convite para que eu me apaixone outra vez ‚Äî e eu aceito, todos os dias.<br><br>
          Sou um homem de sorte, porque o teu amor √© s√≥ meu, e nele encontro cura, luz e for√ßa.<br><br>
          Voc√™ √© o meu poema vivo, minha paz e minha coragem.<br><br>
          E por mais que as palavras tentem, jamais alcan√ßar√£o o tamanho do meu amor por voc√™. ‚ù§Ô∏è
        `
      },
      {
        id: 2,
        photos: [13,14,15,16,17,18,19,20,21,22,23,24],
        music: "musica2.mp3",
        theme: "#a8d8ff",
        title: "Mais um m√™s ao teu lado üíô",
        text: `
          Eu continuo te escolhendo mesmo nos dias dif√≠ceis.<br><br>
          Nosso amor n√£o √© feito s√≥ de fotos bonitas ‚Äî<br>
          √© feito da nossa vontade de continuar. üíô
        `
      }
    ];

    let currentChapterIndex = 0;
    let slideIndex = 0;
    let slideTimer = null;

    const body = document.body;
    const slideshow = document.getElementById("slideshow");
    const tituloDeclaracao = document.getElementById("tituloDeclaracao");
    const textoDeclaracao = document.getElementById("textoDeclaracao");
    const capInfo = document.getElementById("capInfo");
    const player = document.getElementById("player");
    const nextChapterBtn = document.getElementById("nextChapter");

    function loadChapter(index, autoPlay = false) {
      currentChapterIndex = (index + chapters.length) % chapters.length;
      const chap = chapters[currentChapterIndex];

      body.style.backgroundColor = chap.theme;
      tituloDeclaracao.textContent = chap.title;

      textoDeclaracao.style.opacity = 0;
      setTimeout(() => {
        textoDeclaracao.innerHTML = chap.text;
        textoDeclaracao.style.opacity = 1;
      }, 200);

      capInfo.textContent = `Cap√≠tulo ${chap.id} de ${chapters.length}`;

      player.src = chap.music;
      if (autoPlay) player.play().catch(() => {});

      slideshow.innerHTML = "";
      chap.photos.forEach(num => {
        const img = document.createElement("img");
        img.className = "slide-img";
        img.src = num + ".jpg";
        slideshow.appendChild(img);
      });

      slideIndex = 0;
      startSlideshow();
    }

    function showSlides() {
      const slides = document.getElementsByClassName("slide-img");
      if (!slides.length) return;

      for (let i = 0; i < slides.length; i++) slides[i].style.display = "none";

      slideIndex++;
      if (slideIndex > slides.length) slideIndex = 1;

      slides[slideIndex - 1].style.display = "block";
      slideTimer = setTimeout(showSlides, 5000);
    }

    function startSlideshow() {
      if (slideTimer) clearTimeout(slideTimer);
      showSlides();
    }

    nextChapterBtn.addEventListener("click", () => {
      const nextIndex = (currentChapterIndex + 1) % chapters.length;
      loadChapter(nextIndex, true);
    });

    window.addEventListener("load", () => {
      loadChapter(0, false);
    });
  </script>
</body>
</html>
